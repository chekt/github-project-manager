webpackJsonp([1],{35:function(t,e,s){"use strict";var i=s(21),n=s(82),o=s(79),a=s.n(o);i.a.use(n.a),e.a=new n.a({routes:[{path:"/",name:"Hello",component:a.a}]})},36:function(t,e,s){function i(t){s(77)}var n=s(34)(s(39),s(80),i,null,null);t.exports=n.exports},38:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(21),n=s(36),o=s.n(n),a=s(35),r=s(37);i.a.config.productionTip=!1,new i.a({el:"#app",router:a.a,template:"<App/>",components:{App:o.a}}),i.a.use(r.a)},39:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},40:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(42),n=s.n(i),o=s(41),a=s.n(o);e.default={name:"hello",data:function(){return{urlRestPrefix:"https://api.github.com",urlGraphql:"https://api.github.com/graphql",options:{headers:{Authorization:null}},username:null,password:null,maintainPassword$i:null,syncingMilestoneData$i:null,isLoggedIn:!1,myOrgLogins:[],selectedOrgLogin:null,orgRepositories:{},repoMilestones:{},milestoneStarTag:{},isViewStarredActive:!0}},created:function(){var t=this,e=this.getCredentialsFromCookie();e.username&&e.password?(this.username=e.username,this.password=e.password,setTimeout(function(){t.login(t.username,t.password)},1e3)):e.username?this.username=e.username:this.isLoggedIn=!1},methods:{getKeys:function(t){return a()(t)},popupAlert:function(t){alert(t)},setCookie:function(t,e,s,i){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";expires="+s+";domain="+i+";path=/"},getCookie:function(t){for(var e=encodeURIComponent(t)+"=",s=document.cookie,i=s.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(e))return decodeURIComponent(o.substring(e.length,o.length))}return""},deleteCookie:function(t){this.setCookie(t,"meaning_less_string","Thu, 01 Jan 1970 00:00:00 UTC",window.location.hostname)},startMaintainingCredentials:function(t,e){var s=this;this.storeCredentialsInCookie(t,e),this.stopMaintainingCredentials(),this.maintainPassword$i=setInterval(function(){s.storeCredentialsInCookie(t,e)},5e3)},stopMaintainingCredentials:function(){this.maintainPassword$i&&clearInterval(this.maintainPassword$i)},startSyncingMilestoneData:function(){var t=this;this.syncAllMilestoneData(),this.stopSyncingMilestoneData(),this.syncingMilestoneData$i=setInterval(function(){t.syncOnlyStarTaggedMilestoneData()},6e5)},stopSyncingMilestoneData:function(){this.syncingMilestoneData$i&&clearInterval(this.syncingMilestoneData$i)},syncAllMilestoneData:function(){var t=this;for(var e in this.orgRepositories)!function(e){t.getRepoMilestones(t.selectedOrgLogin,e).then(function(s){t.onMilestoneDetailData(e,s)},function(e){e.message&&t.popupAlert(e.message)})}(e)},syncOnlyStarTaggedMilestoneData:function(){var t=this;for(var e in this.orgRepositories)!function(e){t.orgRepositories[e].starTaggedMilestoneTotalCount>0&&t.getRepoMilestones(t.selectedOrgLogin,e).then(function(s){t.onMilestoneDetailData(e,s)},function(e){e.message&&t.popupAlert(e.message)})}(e)},onMilestoneDetailData:function(t,e){for(var s=0;s<e.length;s++){var i=e[s].closed_issues,n=e[s].open_issues,o=i+n,a=e[s].due_on,r=e[s].description,l=e[s].title,u=e[s].html_url,c=e[s].state,d=e[s].id;this.orgRepositories[t].milestones[d].closedIssues=i,this.orgRepositories[t].milestones[d].openIssues=n,this.orgRepositories[t].milestones[d].totalIssues=o,this.orgRepositories[t].milestones[d].dueOn=new Date(a).toDateString(),this.orgRepositories[t].milestones[d].description=r,this.orgRepositories[t].milestones[d].title=l,this.orgRepositories[t].milestones[d].htmlUrl=u,this.orgRepositories[t].milestones[d].state=c,this.orgRepositories[t].milestones[d].htmlUrl=u}},getCredentialsFromCookie:function(){return{username:this.getCookie("ghUsername")?atob(this.getCookie("ghUsername")):null,password:this.getCookie("ghPassword")?atob(this.getCookie("ghPassword")):null}},storeCredentialsInCookie:function(t,e){var s=new Date;s.setSeconds(s.getSeconds()+2592e3);var i=new Date;i.setSeconds(i.getSeconds()+10),this.setCookie("ghUsername",btoa(t),s.toUTCString(),window.location.hostname),this.setCookie("ghPassword",btoa(e),i.toUTCString(),window.location.hostname)},updateStarTaggedMilestoneTotalCount:function(t){var e=0;if(this.orgRepositories[t].milestoneTotalCount>0)for(var s=a()(this.orgRepositories[t].milestones),i=0;i<s.length;i++)this.milestoneStarTag["ghMilestone::"+s[i]]&&e++;this.$set(this.orgRepositories[t],"starTaggedMilestoneTotalCount",e)},hasStarTagForMilestone:function(t){return this.milestoneStarTag["ghMilestone::"+t]?1:0},initializeAllMilestoneTagsFromLocalStorage:function(){for(var t in localStorage)t.indexOf("ghMilestone::")>-1&&this.$set(this.milestoneStarTag,t,+localStorage.getItem(t))},setStarTagForMilestone:function(t,e){+this.milestoneStarTag["ghMilestone::"+e]?(this.$set(this.milestoneStarTag,"ghMilestone::"+e,0),localStorage.setItem("ghMilestone::"+e,0)):(this.$set(this.milestoneStarTag,"ghMilestone::"+e,1),localStorage.setItem("ghMilestone::"+e,1)),this.updateStarTaggedMilestoneTotalCount(t)},removeAllMilestoneTagsInLocalStorage:function(){for(var t in localStorage)t.indexOf("ghMilestone::")>-1&&localStorage.removeItem(t)},toggleViewStarred:function(){this.isViewStarredActive=!this.isViewStarredActive},login:function(t,e){var s=this;this.isLoggedIn?this.popupAlert("You are already logged in!"):t&&e?(this.updateApiAuthorizationHeader(t,e),this.getUser().then(function(t){s.onLoginSuccess()},function(t){t.message&&s.popupAlert(t.message)})):this.popupAlert("username or password is not entered!")},logout:function(){this.stopMaintainingCredentials(),this.deleteCookie("ghUsername"),this.deleteCookie("ghPassword"),this.updateApiAuthorizationHeader(null,null)},onLoginSuccess:function(){var t=this;this.isLoggedIn=!0,this.startMaintainingCredentials(this.username,this.password),this.initializeAllMilestoneTagsFromLocalStorage(),this.getMyOrganizations(this.username).then(function(e){t.onMyOrganizationsData(e)},function(e){e.message&&t.popupAlert(e.message)})},onMyOrganizationsData:function(t){this.myOrgLogins=[];for(var e=0;e<t.length;e++)this.myOrgLogins.push(t[e].login)},onClickGetMilestones:function(t){var e=this;this.selectedOrgLogin=t,this.getAllMilestones(t).then(function(t){e.onOrgMilestoneData(t)},function(t){t.message&&e.popupAlert(t.message)})},onOrgMilestoneData:function(t){for(var e=0;e<t.length;e++){var s=t[e].name;this.$set(this.orgRepositories,s,{}),this.$set(this.orgRepositories[s],"milestones",{}),this.$set(this.orgRepositories[s],"milestoneTotalCount",t[e].milestones.totalCount);for(var i=0;i<t[e].milestones.nodes.length;i++){var n=atob(t[e].milestones.nodes[i].id).split(":Milestone")[1];if(this.$set(this.orgRepositories[s].milestones,n,t[e].milestones.nodes[i]),this.orgRepositories[s].milestones[n].dueOn){var o=new Date(this.orgRepositories[s].milestones[n].dueOn).toDateString();this.orgRepositories[s].milestones[n].dueOn=o}}this.updateStarTaggedMilestoneTotalCount(s)}this.startSyncingMilestoneData()},updateApiAuthorizationHeader:function(t,e){var s=null;t&&e&&(s=btoa(t+":"+e)),this.options={headers:{Authorization:"Basic "+s}}},getUser:function(){var t=this.urlRestPrefix+"/user";return this.$http.get(t,this.options).then(function(t){return n.a.resolve(t.body)},function(t){return n.a.reject(t.body)})},getMyOrganizations:function(t){var e={query:'\n        query {\n          user(login: "{{username}}") {\n            organizations(first: 10) {\n              nodes {\n                login\n              }\n            }\n          }\n        }\n        '};return e.query=e.query.replace("{{username}}",t),this.$http.post(this.urlGraphql,e,this.options).then(function(t){return n.a.resolve(t.body.data.user.organizations.nodes)},function(t){return n.a.reject(t.body)})},getAllMilestones:function(t){var e={query:'\n        query {\n          organization(login: "{{orgLogin}}") {\n            repositories(first: 50) {\n              totalCount\n              nodes {\n                name\n                milestones(last: 10) {\n                  totalCount\n                  nodes {\n                    id\n                    title\n                    description\n                    dueOn\n                    state\n                    number\n                  }\n                }\n              }\n            }\n          }\n        }\n        '};return e.query=e.query.replace("{{orgLogin}}",t),this.$http.post(this.urlGraphql,e,this.options).then(function(t){return n.a.resolve(t.body.data.organization.repositories.nodes)},function(t){return n.a.reject(t.body)})},getRepoMilestones:function(t,e){var s=this.urlRestPrefix+"/repos/"+t+"/"+e+"/milestones";return this.$http.get(s,this.options).then(function(t){return n.a.resolve(t.body)},function(t){return n.a.reject(t.body)})}}}},77:function(t,e){},78:function(t,e){},79:function(t,e,s){function i(t){s(78)}var n=s(34)(s(40),s(81),i,"data-v-7e2bba26",null);t.exports=n.exports},80:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}},81:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[t.isLoggedIn?[s("div",{key:"'loggedIn'",staticClass:"after-login-container"},[s("div",{staticClass:"organizations-wrapper"},[t.getKeys(t.myOrgLogins).length<1?[s("div",{staticClass:"no-organization-text"},[t._v("You don't have any organization")])]:t._e(),t._v(" "),t.getKeys(t.myOrgLogins).length>0?[s("div",{staticClass:"instruction-text"},[t._v("Choose a organization to get milestones")]),t._v(" "),s("div",{staticClass:"organizations"},t._l(t.myOrgLogins,function(e){return s("div",{key:e,staticClass:"organization-btn",on:{click:function(s){t.onClickGetMilestones(e)}}},[t._v("\n                "+t._s(e)+"\n              ")])}))]:t._e()],2),t._v(" "),s("div",{staticClass:"repositories-wrapper"},[s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[t.getKeys(t.orgRepositories).length<1?s("div",{key:"'noRepository'"},[s("div",{staticClass:"no-repository-text"},[t._v("No repository")])]):s("div",{key:"'hasRepository'"},[s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[t.isViewStarredActive?s("div",{key:"'starredTabView'"},[s("transition-group",{attrs:{name:"fade",mode:"out-in",tag:"div",appear:""}},t._l(t.orgRepositories,function(e,i){return+t.orgRepositories[i].milestoneTotalCount>0&&t.orgRepositories[i].starTaggedMilestoneTotalCount>0?s("div",{key:i,staticClass:"repo"},[s("div",{staticClass:"repo-name"},[t._v(t._s(i))]),t._v(" "),s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[+t.orgRepositories[i].milestoneTotalCount<1?s("div",{key:"'hasNoMilestone'",staticClass:"milestone-wrapper"},[s("div",{staticClass:"no-milestone-text"},[t._v("No milestone")])]):s("div",{key:"'hasMilestone'",staticClass:"milestone-wrapper"},[s("transition-group",{attrs:{name:"fade",mode:"out-in",tag:"div",appear:""}},t._l(t.orgRepositories[i].milestones,function(e,n){return t.hasStarTagForMilestone(n)?s("div",{key:n,staticClass:"milestone",on:{click:function(e){t.setStarTagForMilestone(i,n)}}},[s("div",{staticClass:"info-container"},[s("div",{staticClass:"milestone-title"},[t._v(t._s(e.title?e.title:"no title"))]),t._v(" "),s("div",{staticClass:"milestone-due",class:{"no-info":!e.dueOn}},[t._v("\n                                  "+t._s(e.dueOn?"Due by "+e.dueOn:"no due date")+"\n                                ")]),t._v(" "),s("div",{staticClass:"milestone-description",class:{"no-info":!e.description}},[t._v("\n                                  "+t._s(e.description?e.description:"no description")+"\n                                ")])]),t._v(" "),s("div",{staticClass:"info-container"},[s("div",{staticClass:"info-inner-stack"},[s("div",{staticClass:"milestone-state"},[t._v(t._s(e.state?e.state:"no state"))])]),t._v(" "),s("div",{staticClass:"info-inner-stack"},[s("div",{staticClass:"milestone-bargraph"},[s("div",{staticClass:"background"},[s("div",{staticClass:"foreground",style:{transform:"scaleX("+e.closedIssues/e.totalIssues+")"}})])])]),t._v(" "),s("div",{staticClass:"info-inner-stack"},[s("div",{staticClass:"milestone-issues"},[t._v(t._s(e.totalIssues?Math.round(e.closedIssues/e.totalIssues*100):0)+"% complete")]),t._v(" "),s("div",{staticClass:"milestone-issues"},[t._v(t._s(e.openIssues?e.openIssues:0)+" open")]),t._v(" "),s("div",{staticClass:"milestone-issues"},[t._v(t._s(e.closedIssues?e.closedIssues:0)+" closed")])])])]):t._e()}))],1)])],1):t._e()}))],1):s("div",{key:"'unstarredTabView'"},[s("transition-group",{attrs:{name:"fade",mode:"out-in",tag:"div",appear:""}},t._l(t.orgRepositories,function(e,i){return+t.orgRepositories[i].milestoneTotalCount>0&&t.orgRepositories[i].starTaggedMilestoneTotalCount<+t.orgRepositories[i].milestoneTotalCount?s("div",{key:i,staticClass:"repo"},[s("div",{staticClass:"repo-name"},[t._v(t._s(i))]),t._v(" "),s("transition",{attrs:{name:"fade",mode:"out-in",appear:""}},[+t.orgRepositories[i].milestoneTotalCount<1?s("div",{key:"'hasNoMilestone'",staticClass:"milestone-wrapper"},[s("div",{staticClass:"no-milestone-text"},[t._v("No milestone")])]):s("div",{key:"'hasMilestone'",staticClass:"milestone-wrapper"},[s("transition-group",{attrs:{name:"fade",mode:"out-in",tag:"div",appear:""}},t._l(t.orgRepositories[i].milestones,function(e,n){return t.hasStarTagForMilestone(n)?t._e():s("div",{key:n,staticClass:"milestone",on:{click:function(e){t.setStarTagForMilestone(i,n)}}},[s("div",{staticClass:"info-container"},[s("div",{staticClass:"milestone-title"},[t._v(t._s(e.title?e.title:"no title"))]),t._v(" "),s("div",{staticClass:"milestone-due",class:{"no-info":!e.dueOn}},[t._v("\n                                    "+t._s(e.dueOn?"Due by "+e.dueOn:"no due date")+"\n                                  ")]),t._v(" "),s("div",{staticClass:"milestone-description",class:{"no-info":!e.description}},[t._v("\n                                    "+t._s(e.description?e.description:"no description")+"\n                                  ")])]),t._v(" "),s("div",{staticClass:"info-container"},[s("div",{staticClass:"info-inner-stack"},[s("div",{staticClass:"milestone-state"},[t._v(t._s(e.state?e.state:"no state"))])]),t._v(" "),s("div",{staticClass:"info-inner-stack"},[s("div",{staticClass:"milestone-bargraph"},[s("div",{staticClass:"background"},[s("div",{staticClass:"foreground",style:{transform:"scaleX("+e.closedIssues/e.totalIssues+")"}})])])]),t._v(" "),s("div",{staticClass:"info-inner-stack"},[s("div",{staticClass:"milestone-issues"},[t._v(t._s(e.totalIssues?Math.round(e.closedIssues/e.totalIssues*100):0)+"% complete")]),t._v(" "),s("div",{staticClass:"milestone-issues"},[t._v(t._s(e.openIssues?e.openIssues:0)+" open")]),t._v(" "),s("div",{staticClass:"milestone-issues"},[t._v(t._s(e.closedIssues?e.closedIssues:0)+" closed")])])])])}))],1)])],1):t._e()}))],1)])],1)])],1),t._v(" "),t.getKeys(t.orgRepositories).length>0?[s("div",{staticClass:"svg-btn-fab",class:{active:t.isViewStarredActive},on:{click:function(e){t.toggleViewStarred()}}},[s("svg",{attrs:{fill:"#FFFFFF",height:"48",viewBox:"0 0 24 24",width:"48",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),t._v(" "),s("path",{attrs:{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}}),t._v(" "),s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})])])]:t._e()],2)]:[s("div",{key:"'loggingIn'",staticClass:"login-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"login-input",attrs:{type:"text",placeholder:"github username"},domProps:{value:t.username},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.login(t.username,t.password)},input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"login-input",attrs:{type:"password",placeholder:"github password"},domProps:{value:t.password},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.login(t.username,t.password)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("div",{staticClass:"login-btn",on:{click:function(e){t.login(t.username,t.password)}}},[t._v("\n          "+t._s(t.isLoggedIn?"Logged In":"Login")+"\n        ")])])]],2)],1)},staticRenderFns:[]}},85:function(t,e){}},[38]);
//# sourceMappingURL=app.ec69025d78e974541145.js.map